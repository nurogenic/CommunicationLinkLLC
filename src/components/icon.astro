---
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"svg"> {
  name: string;
  size?: number | string;
  width?: number | string;
  height?: number | string;
}

const {
    name = "",
    class: className,
    ...props
} = Astro.props;

if (props.size) {
  props.width = props.size;
  props.height = props.size;
  delete props.size;
}

/* @vite-ignore */
const { default: innerHTML } = await import(`/src/icons/${name}.svg?raw`);
---
<svg class:list={[ className ]} data-icon={name}>
    <Fragment
        id={name}
        set:html={innerHTML}
        {...props}
    />
</svg>